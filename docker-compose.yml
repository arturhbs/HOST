version: '3' # version of docker-compose
networks:
    publisherNet:
    subscribeNet:
services:
    publisher:
        image: python:3.6
        volumes: 
            - ./publisher:/app
        working_dir: /app
        command:  ./pub.sh
        networks:
            - publisherNet
        depends_on: 
            - subscriber        
    subscriber:
        image: python:3.6
        volumes: 
            - ./subscriber:/app
            - ./data:/data
        working_dir: /app
        command:  ./sub.sh
        networks:
            - subscribeNet
        